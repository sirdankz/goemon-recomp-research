<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Workflows & Rules | Goemon Recomp Research</title>
  <link rel="stylesheet" href="./assets/style.css"/>
</head>
<body>
<header>
  <div class="wrap">
    <div class="brand">
      <div class="badge"><span class="dot"></span> UPDATED notes</div>
      <div>
        <h1>Workflows & Rules</h1>
        <div class="subtitle">Repeatable approaches + don’t-redo rules</div>
      </div>
    </div>
  </div>
</header>

<div class="wrap">
  <main>
    <nav>
      <div class="navhead">
        <input id="navSearch" placeholder="Filter pages…" />
      </div>
      <ul>
        <li><a href="index.html" data-title="Home">Home</a></li>
        <li><a href="systems_overview.html" data-title="Systems Overview">Systems Overview</a></li>
        <li><a href="door_transition_system.html" data-title="Door Transition System">Door Transition System</a></li>
        <li><a href="action6_system.html" data-title="Action6 System">Action6 System</a></li>
        <li><a href="scheduler_coroutines.html" data-title="Scheduler & Coroutines">Scheduler & Coroutines</a></li>
        <li><a href="workflows_rules.html" data-title="Workflows & Rules">Workflows & Rules</a></li>
        <li><a href="tooling_gotchas.html" data-title="Tooling Gotchas">Tooling Gotchas</a></li>
        <li><a href="scripts.html" data-title="Scripts">Scripts</a></li>
        <li><a href="evidence_pack_format.html" data-title="Evidence Pack Format">Evidence Pack Format</a></li>
        <li><a href="glossary.html" data-title="Glossary">Glossary</a></li>
      </ul>
    </nav>

    <article>
      <div class="content">
        
<h2>Workflows & Rules</h2>

<h3>0x152 recoil / fan-spread workflow</h3>
<ol>
  <li>Start from real spawners (<code>type_0x152_candidates</code>)</li>
  <li>Use <code>offset_readers_writers.csv</code> to find per-frame “physics truth” readers</li>
  <li>Implement changes where motion is integrated:
    <ul>
      <li>reads of <code>child+0x61</code> (index)</li>
      <li>writes/reads of <code>actor+0x08/+0x0C/+0x10</code> (pos/vel style slots)</li>
    </ul>
  </li>
</ol>

<h3>Don’t redo rule</h3>
<div class="callout">
<b>Stop treating <code>FUN_801EE530</code> as an impulse setter.</b>
It’s a position offset builder.
Recoil belongs in velocity/acceleration setters or in the per-frame integrator.
Often write paired fields (<code>+0xA4</code> and <code>+0x6C</code>) to avoid overwrites.
</div>

<h3>Door proof strategy (repeatable)</h3>
<ul>
  <li>Link: <code>obj+0xDA consumer</code> → <code>field77 writer</code> → <code>FUN_801F7B0C gate</code> → <code>FUN_801F7C14 branch</code></li>
</ul>

        <footer>Last updated: 2025-12-29. Repo: <a href="../">goemon-recomp-research</a></footer>
      </div>
    </article>
  </main>
</div>

<script src="./assets/app.js"></script>
</body>
</html>
